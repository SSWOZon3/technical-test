# back-end/Dockerfile
FROM node:18

WORKDIR /app

# Copia los archivos de dependencias e instala
COPY package*.json ./
RUN npm install

# Instala TypeScript globalmente
RUN npm install -g typescript

# Copia el resto de los archivos de c칩digo
COPY . .

# Compila el c칩digo TypeScript a JavaScript
RUN npm run build

# Expone el puerto en el que correr치 el backend
EXPOSE 3001

# Ejecuta el servidor a partir del c칩digo compilado
CMD ["node", "dist/server.js"]
